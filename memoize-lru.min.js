!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.memoize=t()}(this,function(){"use strict";return function(e){var t=new Map,n=[];return e=e||10,function(r){return function(){function f(){var e,t,r,f=n.length;for(t=f-1;t>=0;t--){for(e=!0,r=0;p>r;r++)if(n[t][r]!==c[r]){e=!1;break}if(e)break}n.push(n.splice(t,1)[0])}function o(){var e,r,f=n.shift(),o=f.length,i=t,u=[i];for(r=0;o-1>r;r++)i=i.get(f[r]),u.push(i);for(r=o-1;r>=0&&(e=u[r].get(f[r]),!e||!e.size);r--)u[r]["delete"](f[r])}var i,u,s,a=t,p=arguments.length,c=Array(p),h=!0;for(s=0;p>s;s++)c[s]=arguments[s],a.has(c[s])?a=a.get(c[s]):(h=!1,p-1>s?(i=new Map,a.set(c[s],i),a=i):(u=r.apply(r,c),a.set(c[s],u),a=u,n.push(c),n.length>e&&o()));return h&&f(),a}}}});